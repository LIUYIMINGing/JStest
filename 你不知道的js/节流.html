<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>节流</title>
</head>
<body>
   <div id="show">0</div>
   <button id="btn">click</button>
   <script>
    //    防止恶意点击
       var oDiv = document.getElementById('show');
       var oBtn = document.getElementById('btn');
       function throttle (handler, wait) {
           var lastTime = 0;
           return function () {
            //    var arguments [event]
            var nowTime = new Date().getTime();
            if(nowTime - lastTime > wait) {
                handler.apply(this, arguments);
                lastTime = nowTime;
            }
           }
       }
       function buy(e) {
        //    console.log(this, e);
           oDiv.innerText = parseInt(oDiv.innerText) + 1;
       }
       oBtn.onclick = throttle(buy, 1000);
   </script>
</body>
</html>